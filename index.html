<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Michelle 's houseğŸ–¤</title>
<style>
  :root{
    --bg:#fff1f6; --pink:#ff9bd6; --pink-2:#ff8fc8; --accent:#ff4fa3; --card:#fff0fa;
  }
  *{box-sizing:border-box}
  body{font-family:"Segoe UI", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif; margin:0; background:var(--bg); color:#333}
  header{background:linear-gradient(90deg,var(--pink-2),#ffc0e6); color:white; padding:26px 16px; text-align:center; box-shadow:0 6px 20px rgba(255,130,180,0.12)}
  header h1{margin:0;font-size:28px;letter-spacing:1px}
  nav{display:flex;flex-wrap:wrap;justify-content:center;gap:12px;padding:12px 8px;background:#fff; border-bottom:1px dashed rgba(255,180,210,0.6)}
  nav a{color:var(--accent); text-decoration:none; font-weight:600; cursor:pointer;padding:6px 10px;border-radius:10px}
  nav a:hover{background:linear-gradient(90deg,rgba(255,140,190,0.06),rgba(255,200,230,0.06))}
  .wrap{max-width:1000px;margin:22px auto;padding:0 16px}
  .page{display:none}
  .page.active{display:block}
  .card-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}
  .card{background:white;border-radius:16px;padding:18px;box-shadow:0 10px 30px rgba(255,150,200,0.08);border:1px solid rgba(255,200,230,0.6)}
  .song-card,.travel-card{border-radius:12px;padding:12px;background:white;box-shadow:0 6px 18px rgba(0,0,0,0.03)}
  .travel-img{width:100%;border-radius:10px;margin-top:8px}
  .message-card{background:var(--card);border-radius:12px;padding:12px;margin-bottom:12px;box-shadow:0 6px 16px rgba(255,150,200,0.08)}
  .message-header{display:flex;gap:10px;align-items:center;font-weight:700}
  .avatar{font-size:20px}
  .reply-bubble{background:#fff1f8;padding:8px;border-radius:10px;margin-top:8px}
  .reply-input{display:flex;gap:8px;margin-top:10px}
  textarea,input[type=text]{width:100%;padding:10px;border-radius:12px;border:1px solid #ffd7ee;background:#fff7fb}
  button.small{padding:6px 10px;border-radius:10px}
  .meta{display:flex;gap:8px;align-items:center;margin-top:8px}
  footer{text-align:center;padding:26px 8px;color:#999}

  /* Homepage styles */
  .home-hero{padding:48px 24px;text-align:center;background:linear-gradient(180deg,#fff5fb,#fff8fc);border-radius:16px}
  .hero-title{font-size:28px;margin:0;color:#ff3b8a;opacity:0;transform:translateY(12px);animation:fadeInUp .8s forwards .2s}
  .hero-line{font-size:16px;color:#8c4b72;margin-top:12px;opacity:0;transform:translateY(12px);}
  .hero-line.l2{animation:fadeInUp .8s forwards .5s}
  .hero-line.l3{animation:fadeInUp .8s forwards .8s}

  @keyframes fadeInUp{to{opacity:1;transform:translateY(0)}}

  /* heart animation */
  .hearts-layer{position:relative;height:140px;margin-top:18px;pointer-events:none;overflow:hidden}
  .heart{position:absolute;bottom:8px;font-size:18px;opacity:0;transform:translateY(0) scale(0.8); animation:floatUp 4s linear forwards}
  @keyframes floatUp{
    0%{opacity:0; transform:translateY(0) scale(0.8)}
    10%{opacity:1}
    60%{opacity:1; transform:translateY(-80px) scale(1)}
    100%{opacity:0; transform:translateY(-160px) scale(1.1)}
  }

  /* responsive */
  @media (max-width:600px){ header h1{font-size:20px} nav{gap:6px} .home-hero{padding:28px} }
  /* é£˜åŠ¨çˆ±å¿ƒ */
  #floating-hearts{position:relative;height:60px;margin:10px 0;overflow:visible}
  .heart{position:absolute;color:#ff77c8;font-size:20px;animation:floatUp 3s ease-in forwards;opacity:0.9}
  @keyframes floatUp{0%{transform:translateY(20px) scale(.8);opacity:0}50%{opacity:1}100%{transform:translateY(-60px) scale(1.3);opacity:0}}
</style>
</head>
<body>
<header>
  <h1>Michelle 's houseğŸ–¤</h1>
</header>
<nav>
  <a id="nav-home">é¦–é¡µ</a>
  <a id="nav-fortune">ç­”æ¡ˆä¹‹ä¹¦</a>
  <a id="nav-board">äº’åŠ¨ç•™è¨€æ¿</a>
  <a id="nav-books">æ¨èå°è¯´</a>
  <a id="nav-shops">ç”œå“åº—/å’–å•¡é¦†</a>
  <a id="nav-songs">å–œæ¬¢çš„æ­Œæ›²</a>
  <a id="nav-travel">æ—…è¡Œåˆ†äº«</a>
  <a id="nav-contact">è”ç³»æˆ‘</a>
</nav>
<div class="wrap">
  <!-- HOME -->
  <section id="page-home" class="page">
    <div class="card" style="text-align:center; padding:32px 20px; position:relative; overflow:hidden;">
      <h2 style="font-size:26px; margin-bottom:10px">æ¬¢è¿æ¥åˆ° Michelle çš„å°å±‹ ËšÊšâ™¡ÉËš</h2>
      <p class="notice" style="font-size:15px; line-height:1.8; max-width:600px; margin:0 auto;">
        è¿™é‡Œæ˜¯ä¸€ä¸ªè½¯è½¯çš„ã€æš–æš–çš„å°è§’è½ã€‚<br>
        æ¯ä¸ªäººéƒ½å¯ä»¥åœ¨è¿™é‡Œæé—®ã€åˆ†äº«ã€äº’ç›¸æ²»æ„ˆã€äº’ç›¸å¸®åŠ©ã€‚<br>
        æŠŠçƒ¦æ¼æ”¾åœ¨è¿™é‡Œï¼Œè®©æ¸©æŸ”ä»ä¸–ç•Œå„å¤„å‘ä½ æµè¿‡æ¥ â™¡
      </p>
      <!-- heart container -->
      <div id="floating-hearts"></div>
    </div>
  </section>

  <!-- FORTUNE -->
  <section id="page-fortune" class="page">
    <div class="card">
      <h2>ç­”æ¡ˆä¹‹ä¹¦ ğŸ”®</h2>
      <p class="notice">è½»ç‚¹ä¸‹æ–¹ï¼Œè®©å°ä¹¦å‘Šè¯‰ä½ æ¥ä¸‹æ¥ä¼šå‘ç”Ÿä»€ä¹ˆï¼ˆä»…ä¾›å¨±ä¹ï¼‰</p>
      <div style="display:flex;gap:12px;align-items:center;margin-top:12px">
        <button id="revealBtn">ç‚¹å‡»å åœ âœ¨</button>
        <button id="reveal-again" class="small">å†è¯•ä¸€æ¬¡</button>
      </div>
      <div id="fortuneResult" style="margin-top:18px;padding:14px;border-radius:12px;background:var(--card);display:none;font-weight:700;color:var(--accent)"></div>
    </div>
  </section>

  <!-- MESSAGE BOARD -->
  <section id="page-board" class="page">
    <div class="card">
      <h2>äº’åŠ¨ç•™è¨€æ¿ ğŸ’¬</h2>
      <p class="notice">æœ€è¿‘æœ‰ä»€ä¹ˆé—®é¢˜å‘€ï¼Ÿå¿«æ¥æé—®ï¼Œè®©å…¶ä»–å°ä¼™ä¼´æ¥å¸®åŠ©ä½  ğŸ’Œ</p>
      <label style="display:block;margin-top:8px;font-weight:600">ä½ çš„æ˜µç§°ï¼ˆå¯è‡ªå®šä¹‰ï¼‰ï¼š</label>
      <input id="visitorNick" placeholder="æƒ³è¢«ç§°ä¸ºä»€ä¹ˆï¼Ÿä¾‹å¦‚ï¼šå°ç±³" />
      <label style="display:block;margin-top:8px;font-weight:600">é—®é¢˜ï¼š</label>
      <textarea id="visitorMsg" rows="3" placeholder="è¯·è¾“å…¥ä½ çš„é—®é¢˜"></textarea>
      <div style="margin-top:10px"><button id="addMsgBtn">æäº¤é—®é¢˜</button></div>
    </div>
    <div style="margin-top:16px">
      <h3>å…¬å¼€é—®é¢˜ä¸å›ç­”</h3>
      <div id="messageList"></div>
    </div>
  </section>

  <!-- BOOKS -->
  <section id="page-books" class="page">
    <div class="card">
      <h2>æ¨èå°è¯´ ğŸ“š</h2>
      <p class="notice">è¿™æ˜¯æˆ‘çš„ç§è—ä¹¦å•ï¼Œæ¬¢è¿åŠ ä¹¦æˆ–ç­›é€‰æ ‡ç­¾</p>
      <div style="display:flex;gap:8px;margin-top:8px">
        <input id="bookTitle" placeholder="ä¹¦å" />
        <input id="bookTags" placeholder="æ ‡ç­¾ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰" />
        <button id="addBookBtn">æ·»åŠ </button>
      </div>
    </div>
    <div style="margin-top:12px" id="booksList" class="card-grid"></div>
  </section>

  <!-- SHOPS -->
  <section id="page-shops" class="page">
    <div class="card">
      <h2>ç”œå“åº— / å’–å•¡é¦† æ‰“å¡ ğŸ°â˜•</h2>
      <p class="notice">è®°å½•æˆ‘æƒ³å»/åƒè¿‡çš„åº—ï¼Œæ”¯æŒå›¾ç‰‡é“¾æ¥</p>
      <div style="display:flex;gap:8px;margin-top:8px;flex-wrap:wrap">
        <input id="shopName" placeholder="åº—å" />
        <input id="shopImg" placeholder="å›¾ç‰‡é“¾æ¥ï¼ˆå¯é€‰ï¼‰" />
        <input id="shopDesc" placeholder="æ¨èç”œå“æˆ–çŸ­è¯„" />
        <button id="addShopBtn">æ·»åŠ </button>
      </div>
    </div>
    <div style="margin-top:12px" id="shopsList" class="card-grid"></div>
  </section>

  <!-- SONGS -->
  <section id="page-songs" class="page">
    <div class="card">
      <h2>å–œæ¬¢çš„æ­Œæ›² ğŸµ</h2>
      <p class="notice">æ·»åŠ æ­Œåã€æ­Œæ‰‹ã€å¿ƒæƒ…å°çŸ­è¯„</p>
      <div style="display:flex;gap:8px;margin-top:8px;flex-wrap:wrap">
        <input id="songName" placeholder="æ­Œå" />
        <input id="songArtist" placeholder="æ­Œæ‰‹" />
        <input id="songMood" placeholder="çŸ­è¯„ / å¿ƒæƒ…" />
        <button id="addSongBtn">æ·»åŠ </button>
      </div>
    </div>
    <div style="margin-top:12px" id="songsList" class="card-grid"></div>
  </section>

  <!-- TRAVEL -->
  <section id="page-travel" class="page">
    <div class="card">
      <h2>æ—…è¡Œåˆ†äº« âœˆï¸</h2>
      <p class="notice">è¾“å…¥åœ°ç‚¹ã€æ„Ÿæƒ³ä¸ä¸€å¼ å›¾ç‰‡é“¾æ¥</p>
      <div style="display:flex;gap:8px;margin-top:8px;flex-wrap:wrap">
        <input id="travelPlace" placeholder="åœ°ç‚¹" />
        <input id="travelImg" placeholder="å›¾ç‰‡é“¾æ¥ï¼ˆå¯é€‰ï¼‰" />
        <input id="travelNote" placeholder="åˆ†äº«æ–‡æ¡ˆ" />
        <button id="addTravelBtn">æ·»åŠ </button>
      </div>
    </div>
    <div style="margin-top:12px" id="travelList" class="card-grid"></div>
  </section>

  <!-- CONTACT -->
  <section id="page-contact" class="page">
    <div class="card">
      <h2>è”ç³»æˆ‘ ğŸ“®</h2>
      <p>æƒ³ç§èŠæˆ–åˆä½œå¯ä»¥å‘é‚®ä»¶åˆ°ï¼š <a href="mailto:1349404920@qq.com">1349404920@qq.com</a></p>
    </div>
  </section>
</div>

<footer>
  <p>Â© Michelle 's house Â· 2025</p>
</footer>

<script>
window.addEventListener('DOMContentLoaded', ()=>{
  // build pages map by id
  const pages = {
    home: document.getElementById('page-home'),
    fortune: document.getElementById('page-fortune'),
    board: document.getElementById('page-board'),
    books: document.getElementById('page-books'),
    shops: document.getElementById('page-shops'),
    songs: document.getElementById('page-songs'),
    travel: document.getElementById('page-travel'),
    contact: document.getElementById('page-contact')
  };

  function showPage(key){
    Object.values(pages).forEach(p=>p && p.classList.remove('active'));
    if(pages[key]) pages[key].classList.add('active');
    window.scrollTo({top:0,behavior:'smooth'});
    // start/stop hearts when on home
    if(key==='home') startHearts(); else stopHearts();
  }

  // bind nav safely
  document.getElementById('nav-home')?.addEventListener('click', ()=>showPage('home'));
  document.getElementById('nav-fortune')?.addEventListener('click', ()=>showPage('fortune'));
  document.getElementById('nav-board')?.addEventListener('click', ()=>showPage('board'));
  document.getElementById('nav-books')?.addEventListener('click', ()=>showPage('books'));
  document.getElementById('nav-shops')?.addEventListener('click', ()=>showPage('shops'));
  document.getElementById('nav-songs')?.addEventListener('click', ()=>showPage('songs'));
  document.getElementById('nav-travel')?.addEventListener('click', ()=>showPage('travel'));
  document.getElementById('nav-contact')?.addEventListener('click', ()=>showPage('contact'));
  document.querySelectorAll('[data-goto]').forEach(b=>b.addEventListener('click', e=>{ showPage(e.currentTarget.dataset.goto); }));

  // --- FORTUNE ---
  const fortunes = [
    "ä½ çš„æ¸©æŸ”ä¼šè¢«ä¸–ç•Œæ‚„æ‚„è®°ä½ âœ¨",
    "æŸä¸ªæœŸå¾…å·²ä¹…çš„äº‹æƒ…æ­£åœ¨é è¿‘ä½  ğŸ’—",
    "ä½ ä¼šæ”¶åˆ°ä¸€ä¸ªè®©ä½ å¾®ç¬‘çš„è®¯æ¯ ğŸ“©",
    "å¥½è¿å·²ç»åœ¨ä½ èº«åè·Ÿç€è·‘å•¦ ğŸ€",
    "ä½ æ­£åœ¨æˆä¸ºæ›´å¥½çš„è‡ªå·±ï¼Œè¯·ç»§ç»­ ğŸŒˆ",
    "æœ‰äººåœ¨å·å·æœŸå¾…ä½ çš„å‡ºç° ğŸ‡",
    "å®‡å®™å¯¹ä½ å¾ˆæ¸©æŸ”ï¼Œä»Šå¤©ä¹Ÿæ˜¯ ğŸ’–",
    "ä½ ä¼šé‡è§ä¸€ä¸ªè®©ä½ å¿ƒå®‰çš„äºº â˜ï¸",
    "æœªæ¥å‡ å¤©ä¼šæœ‰å°æƒŠå–œå‘ç”Ÿ â­",
    "ä½ ä¼šè¶Šæ¥è¶Šæ¥è¿‘ä½ æƒ³è¦çš„ç”Ÿæ´» ğŸ§¸",
    "åšæŒä¸€ä¸‹ï¼Œä½ æƒ³è¦çš„æ­£åœ¨è·¯ä¸Š âœ¨",
    "äº‹æƒ…ä¼šæ¯”ä½ æƒ³è±¡çš„é¡ºåˆ©å¾ˆå¤š ğŸŒ™",
    "ä¸€æ¬¡ç¾å¥½çš„æœºé‡æ­£è¦æ¥åˆ°ä½ èº«è¾¹ ğŸ’«",
    "ä½ å°†è¢«å¥½æ¶ˆæ¯åŒ…å›´ï¼ŒçœŸçš„ï¼ğŸ€",
    "ä½ çš„åŠªåŠ›æ­£åœ¨è¢«çœ‹åˆ°ï¼Œè¯·ç»§ç»­å‘å…‰ ğŸŒŸ",
    "ä½ æ­£åœ¨å¸å¼•æ¸©æŸ”åˆå¹¸è¿çš„äº‹ç‰© ğŸ“",
    "ä¸€ä¸ªæ–°çš„å¼€å§‹æ­£åœ¨ä¸ºä½ æ‰“å¼€å¤§é—¨ ğŸ”®",
    "ä½ ä¼šæ”¶åˆ°æ„æ–™ä¹‹å¤–çš„å…³å¿ƒä¸å–œæ¬¢ ğŸ’Œ",
    "æ”¾è½»æ¾ï¼Œæœªæ¥å¯¹ä½ è¶…å‹å¥½ ğŸ«¶",
    "ä½ æ­£åœ¨è¿›å…¥ä¸€ä¸ªè¶Šæ¥è¶Šå¹¸ç¦çš„å°é˜¶æ®µ ğŸŒ¸"
  ];
  const revealBtn = document.getElementById('revealBtn');
  const revealAgain = document.getElementById('reveal-again');
  const fortuneResult = document.getElementById('fortuneResult');
  function reveal(){ if(!fortuneResult) return; fortuneResult.style.display='block'; const t = fortunes[Math.floor(Math.random()*fortunes.length)]; fortuneResult.innerText = t; fortuneResult.animate([{transform:'scale(.8)',opacity:0},{transform:'scale(1.03)',opacity:1},{transform:'scale(1)',opacity:1}],{duration:450,easing:'ease-out'}); }
  if(revealBtn) revealBtn.addEventListener('click', reveal);
  if(revealAgain) revealAgain.addEventListener('click', reveal);

  // --- Message board ---
  const avatars = ['ğŸ°','ğŸ»','ğŸ±','ğŸ¼','ğŸ¨','ğŸ¦Š'];
  let messages = JSON.parse(localStorage.getItem('messages_v2')||'[]');
  messages.forEach(m=>{ if(!Array.isArray(m.reply)) m.reply=[]; if(typeof m.likes!=='number') m.likes=0; });
  function saveMessages(){ localStorage.setItem('messages_v2', JSON.stringify(messages)); }
  function escapeHtml(s){ return String(s).replace(/[&<>"]|'/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])); }
  function renderMessages(){ const list = document.getElementById('messageList'); if(!list) return; list.innerHTML=''; messages.forEach((m)=>{ if(!Array.isArray(m.reply)) m.reply=[]; const card = document.createElement('div'); card.className='message-card'; const h = document.createElement('div'); h.className='message-header'; h.innerHTML = `<span class="avatar">${m.avatar}</span> <span style="margin-left:6px">${escapeHtml(m.nickname)}</span>`; card.appendChild(h); const p = document.createElement('p'); p.innerText = m.visitor; card.appendChild(p); m.reply.forEach((r,i)=>{ const rp = document.createElement('div'); rp.className='reply-bubble'; rp.innerText = `ğŸ’¬ åŒ¿å mm${i+1}ï¼š${r}`; card.appendChild(rp); }); const replyDiv = document.createElement('div'); replyDiv.className='reply-input'; const input = document.createElement('input'); input.type='text'; input.placeholder='åŒ¿åå›å¤ï¼ˆmmï¼‰'; const btn = document.createElement('button'); btn.className='small'; btn.innerText='å‘é€'; btn.addEventListener('click', ()=>{ const v = input.value.trim(); if(!v) return; m.reply.push(v); saveMessages(); renderMessages(); }); replyDiv.appendChild(input); replyDiv.appendChild(btn); card.appendChild(replyDiv); const meta = document.createElement('div'); meta.className='meta'; const likeBtn = document.createElement('button'); likeBtn.className='small'; likeBtn.innerText = `ğŸ‘ ${m.likes}`; likeBtn.addEventListener('click', ()=>{ m.likes = (m.likes||0)+1; saveMessages(); renderMessages(); }); meta.appendChild(likeBtn); card.appendChild(meta); list.appendChild(card); }); }
  document.getElementById('addMsgBtn')?.addEventListener('click', ()=>{ const text = document.getElementById('visitorMsg').value.trim(); let nick = document.getElementById('visitorNick').value.trim(); if(!nick) nick = `æ¸¸å®¢${messages.length+1}`; if(!text) return alert('è¯·è¾“å…¥é—®é¢˜åæäº¤'); const avatar = avatars[messages.length % avatars.length]; messages.push({ id: Date.now(), nickname: nick, avatar, visitor: text, reply: [], likes: 0 }); saveMessages(); document.getElementById('visitorMsg').value=''; document.getElementById('visitorNick').value=''; renderMessages(); });
  renderMessages();

  // --- Books ---
  let books = JSON.parse(localStorage.getItem('books_v1')||'[]');
  function saveBooks(){ localStorage.setItem('books_v1', JSON.stringify(books)); }
  function renderBooks(){ const out = document.getElementById('booksList'); if(!out) return; out.innerHTML=''; books.forEach(b=>{ const c = document.createElement('div'); c.className='card'; c.innerHTML = `<h4>${escapeHtml(b.title)}</h4><p style="color:#666">${escapeHtml(b.tags||'')}</p><p style="margin-top:8px;color:#444">${escapeHtml(b.note||'')}</p>`; out.appendChild(c); }); }
  document.getElementById('addBookBtn')?.addEventListener('click', ()=>{ const t = document.getElementById('bookTitle').value.trim(); const tags = document.getElementById('bookTags').value.trim(); if(!t) return alert('è¯·å¡«å†™ä¹¦å'); books.push({ id:Date.now(), title:t, tags, note:'' }); saveBooks(); document.getElementById('bookTitle').value=''; document.getElementById('bookTags').value=''; renderBooks(); });
  if(books.length===0){ books = [ {id:1,title:'ã€Šè§£å¿§æ‚è´§åº—ã€‹',tags:'æ¸©æš–,æ²»æ„ˆ',note:'æŠšæ…°äººå¿ƒçš„å°æ•…äº‹'}, {id:2,title:'ã€Šå°ç‹å­ã€‹',tags:'ç«¥è¯,å¯“è¨€',note:'é€‚åˆåœ¨å®‰é™çš„ä¸‹åˆè¯»'} ]; saveBooks(); }
  renderBooks();

  // --- Shops ---
  let shops = JSON.parse(localStorage.getItem('shops_v1')||'[]');
  function saveShops(){ localStorage.setItem('shops_v1', JSON.stringify(shops)); }
  function renderShops(){ const out = document.getElementById('shopsList'); if(!out) return; out.innerHTML=''; shops.forEach(s=>{ const c = document.createElement('div'); c.className='card'; c.innerHTML = `<h4>${escapeHtml(s.name)}</h4><p style="color:#666">${escapeHtml(s.desc||'æ¨èç”œå“ï¼šæ— ')}</p>${s.img?`<img src="${escapeHtml(s.img)}" style="width:100%;border-radius:8px;margin-top:8px"/>`:''}`; out.appendChild(c); }); }
  document.getElementById('addShopBtn')?.addEventListener('click', ()=>{ const name = document.getElementById('shopName').value.trim(); const img = document.getElementById('shopImg').value.trim(); const desc = document.getElementById('shopDesc').value.trim(); if(!name) return alert('è¯·å¡«å†™åº—å'); shops.push({ id:Date.now(), name, desc, img }); saveShops(); document.getElementById('shopName').value=''; document.getElementById('shopImg').value=''; document.getElementById('shopDesc').value=''; renderShops(); });
  if(shops.length===0){ shops = [ {id:1,name:'ç”œç”œåœˆå°é“º',desc:'æ‹›ç‰Œè‰è“ç”œç”œåœˆ',img:''}, {id:2,name:'å°ç†Šè›‹ç³•å±‹',desc:'æ¨èæŠ¹èŒ¶åƒå±‚',img:''} ]; saveShops(); }
  renderShops();

  // --- Songs ---
  let songs = JSON.parse(localStorage.getItem('songs_v1')||'[]');
  function saveSongs(){ localStorage.setItem('songs_v1', JSON.stringify(songs)); }
  function renderSongs(){ const out = document.getElementById('songsList'); if(!out) return; out.innerHTML=''; songs.forEach(s=>{ const c = document.createElement('div'); c.className='song-card'; c.innerHTML = `<h4>${escapeHtml(s.name)}</h4><p style="color:#666">${escapeHtml(s.artist||'')}${s.mood?` â€¢ ${escapeHtml(s.mood)}`:''}</p>`; out.appendChild(c); }); }
  document.getElementById('addSongBtn')?.addEventListener('click', ()=>{ const name = document.getElementById('songName').value.trim(); const artist = document.getElementById('songArtist').value.trim(); const mood = document.getElementById('songMood').value.trim(); if(!name) return alert('è¯·å¡«å†™æ­Œå'); songs.push({ id:Date.now(), name, artist, mood }); saveSongs(); document.getElementById('songName').value=''; document.getElementById('songArtist').value=''; document.getElementById('songMood').value=''; renderSongs(); });
  if(songs.length===0){ songs = [ {id:1,name:'å¤œèˆªæ˜Ÿ',artist:'æœªçŸ¥',mood:'é€‚åˆå¤œè¯»'}, {id:2,name:'è½»é£',artist:'å°æ›²',mood:'åˆåæ…µæ‡’'} ]; saveSongs(); }
  renderSongs();

  // --- Travel ---
  let travels = JSON.parse(localStorage.getItem('travels_v1')||'[]');
  function saveTravels(){ localStorage.setItem('travels_v1', JSON.stringify(travels)); }
  function renderTravels(){ const out = document.getElementById('travelList'); if(!out) return; out.innerHTML=''; travels.forEach(t=>{ const c = document.createElement('div'); c.className='travel-card'; c.innerHTML = `<h4>${escapeHtml(t.place)}</h4><p style="color:#666">${escapeHtml(t.note||'')}</p>${t.img?`<img src="${escapeHtml(t.img)}" class="travel-img"/>`:''}`; out.appendChild(c); }); }
  document.getElementById('addTravelBtn')?.addEventListener('click', ()=>{ const place = document.getElementById('travelPlace').value.trim(); const img = document.getElementById('travelImg').value.trim(); const note = document.getElementById('travelNote').value.trim(); if(!place) return alert('è¯·å¡«å†™åœ°ç‚¹'); travels.push({ id:Date.now(), place, img, note }); saveTravels(); document.getElementById('travelPlace').value=''; document.getElementById('travelImg').value=''; document.getElementById('travelNote').value=''; renderTravels(); });
  if(travels.length===0){ travels = [ {id:1,place:'äº¬éƒ½ï¼Œæ¸…æ°´å¯º',img:'',note:'æ¨±èŠ±å­£å¥½ç¾'}, {id:2,place:'ä¸œäº¬å··å¼„å’–å•¡',img:'',note:'æ†©æ¯çš„åˆå'} ]; saveTravels(); }
  renderTravels();

  // HEARTS: gentle floating hearts on home page
  const heartsLayer = document.getElementById('hearts-layer');
  let heartsInterval = null;
  function createHeart(){
    if(!heartsLayer) return;
    const heart = document.createElement('div');
    heart.className = 'heart';
    heart.style.left = `${Math.random()*80 + 5}%`;
    heart.style.fontSize = `${12 + Math.random()*14}px`;
    heart.style.animationDuration = `${3 + Math.random()*3}s`;
    heart.style.opacity = `${0.9 - Math.random()*0.6}`;
    heart.innerText = 'ğŸ’—';
    heartsLayer.appendChild(heart);
    // remove after animation
    setTimeout(()=>{ heart.remove(); }, 4500);
  }
  function startHearts(){ if(heartsInterval) return; createHeart(); heartsInterval = setInterval(createHeart, 700); }
  function stopHearts(){ if(!heartsInterval) return; clearInterval(heartsInterval); heartsInterval = null; const nodes = heartsLayer?.querySelectorAll('.heart')||[]; nodes.forEach(n=>n.remove()); }

  // show home by default
  showPage('home');

  // é£˜åŠ¨çˆ±å¿ƒè„šæœ¬
  function createHeart(){
    const box = document.getElementById('floating-hearts');
    if(!box) return;
    const h = document.createElement('div');
    h.className='heart';
    h.innerText = ['ğŸ’—','ğŸ’–','ğŸ’•','ğŸ’'][Math.floor(Math.random()*4)];
    h.style.left = (Math.random()*80+10)+"%";
    box.appendChild(h);
    setTimeout(()=>h.remove(),3000);
  }
  setInterval(createHeart, 1200);

});
</script>
</body>
</html>
